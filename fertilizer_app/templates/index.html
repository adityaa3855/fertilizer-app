<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fertilizer Recommendation</title>

  <!-- CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
  <header class="topbar">
    <h1>Fertilizer Recommendation</h1>
    <p>Enter your field parameters to get the best fertilizer suggestion.</p>
  </header>

  {% if error %}
    <div class="alert alert-error" role="alert">{{ error }}</div>
  {% endif %}
  {% if result %}
    <div class="alert alert-success" role="status">
      <strong>Recommended Fertilizer:</strong> {{ result }}
      {% if confidence %}
        &nbsp; <span class="chip">Confidence: {{ confidence }}%</span>
      {% endif %}
    </div>
  {% endif %}

  <main class="card">
    <form action="/predict" method="post" class="grid" novalidate>
      <div class="form-group">
        <label for="temperature">Temperature (°C) <small>(0–60)</small></label>
        <input id="temperature" type="number" step="0.1" name="temperature" min="0" max="60" required>
      </div>

      <div class="form-group">
        <label for="humidity">Humidity (%) <small>(0–100)</small></label>
        <input id="humidity" type="number" step="0.1" name="humidity" min="0" max="100" required>
      </div>

      <div class="form-group">
        <label for="moisture">Moisture (%) <small>(0–100)</small></label>
        <input id="moisture" type="number" step="0.1" name="moisture" min="0" max="100" required>
      </div>

      <div class="form-group">
        <label for="nitrogen">Nitrogen (N) <small>(0–140)</small></label>
        <input id="nitrogen" type="number" step="1" name="nitrogen" min="0" max="140" required>
      </div>

      <div class="form-group">
        <label for="potassium">Potassium (K) <small>(0–140)</small></label>
        <input id="potassium" type="number" step="1" name="potassium" min="0" max="140" required>
      </div>

      <div class="form-group">
        <label for="phosphorous">Phosphorous (P) <small>(0–140)</small></label>
        <input id="phosphorous" type="number" step="1" name="phosphorous" min="0" max="140" required>
      </div>

      <div class="form-group">
        <label for="soil_type">Soil Type</label>
        <select id="soil_type" name="soil_type" required>
          <option value="" disabled selected>Select soil</option>
          {% for s in soils %}
            <option value="{{ s }}">{{ s }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="form-group">
        <label for="crop_type">Crop Type</label>
        <select id="crop_type" name="crop_type" required>
          <option value="" disabled selected>Select crop</option>
          {% for c in crops %}
            <option value="{{ c }}">{{ c }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="actions">
        <button type="submit">Get Recommendation</button>
      </div>
    </form>
  </main>

  <footer>
    <p>AGRISens • Fertilizer Advisor</p>
  </footer>
</body>
</html>
